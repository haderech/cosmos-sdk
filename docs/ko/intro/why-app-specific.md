<!--
order: 2
-->

# 애플리케이션별 전용 블록체인

이 문서에서는 애플리케이션별 전용 블록체인이 무엇이며, 개발자가 스마트 컨트랙트를 작성하는 대신 블록체인을 구축하려는 이유를 설명합니다. {개요}

## 애플리케이션별 전용 블록체인이란?

애플리케이션별 전용 블록체인은 단일 애플리케이션을 운영하도록 커스터마이즈된 블록체인입니다. 개발자들은 이더리움 같은 기반 블록체인 위에 분산 애플리케이션을 구축하는 대신 처음부터 자체 블록체인을 구축합니다. 이 작업에는 풀 노드 클라이언트, 라이트 클라이언트 및 노드와 상호 작용하는 데 필요한 모든 인터페이스(CLI, REST 등) 구축이 포함됩니다.

```
                ^  +-------------------------------+  ^
                |  |                               |  |   Built with Cosmos SDK
                |  |  State-machine = Application  |  |
                |  |                               |  v
                |  +-------------------------------+
                |  |                               |  ^
Blockchain node |  |           Consensus           |  |
                |  |                               |  |
                |  +-------------------------------+  |   Tendermint Core
                |  |                               |  |
                |  |           Networking          |  |
                |  |                               |  |
                v  +-------------------------------+  v
```

## 스마트 컨트랙트의 단점은?

2014년 이더리움 같은 가상 머신 블록체인은 더 많은 프로그래밍 가능성에 대한 요구를 충족시켰습니다. 당시에는 분산 애플리케이션을 구축하기 위해 선택 가능한 대안이 상당히 제한적이었습니다. 대부분의 개발자는 복잡하고 기능이 제한적인 비트코인 스크립트를 사용하거나, 다루기 어렵고 커스터마이즈도 쉽지 않은 비트코인 코드베이스를 포크하여 애플리케이션을 구축했습니다.

가상 머신 블록체인은 새로운 가치 제안을 제시했습니다. 가상 머신 블록체인은 상태 기계로서 스마트 컨트랙트라는 튜링 완전한 프로그램을 해석할 수 있는 가상머신을 포함하고 있습니다. 스마트 컨트랙트는 일회성 이벤트(예: ICO) 같은 유스케이스에는 매우 적합할 수 있지만, 복잡한 분산 플랫폼 구축에는 부족할 수 있습니다. 그 이유는 다음과 같습니다. 

- 일반적으로 스마트 컨트랙트는 기반 가상머 신에서 해석할 수 있는 특정 프로그래밍 언어로 개발합니다. 이러한 프로그래밍 언어는 성숙도가 낮거나 근본적으로 가상 머신 자체의 제약에 의해 제한됩니다. 예를 들어, 이더리움 가상머신에서는 자동 실행되는 코드 개발이 허용되지 않습니다. 또한 EVM의 계정 기반 시스템의 제약을 받으며, 암호 관련 작업도 제공되는 제한된 기능 집합 안에서 선택해야 합니다. 이러한 예는 스마트 컨트랙트 환경이 빈번하게 수반하는 **유연성**의 부족을 암시합니다.
- 스마트 컨트랙트는 모두 동일한 가상 머신에서 실행됩니다. 이는 스마트 컨트랙트 간에 자원 경쟁이 존재하며, 심각하게 **성능**을 제약할 수 있다는 뜻입니다. 또한 상태 기계를 여러 하위 집합(예: 샤딩)으로 분할하더라도 스마트 컨트랙트는 가상 머신이 해석하므로, 상태 기계 수준으로 구현한 네이티브 애플리케이션에 비해 성능이 제한됩니다. (벤치마크 결과 가상 머신을 제거하였을 때 10 배의 성능 향상을 보였습니다.)
- 스마트 컨트랙트가 동일 환경을 공유한다는 사실과 관련된 또 다른 문제는 **자주권**의 제한입니다. 분산 애플리케이션은 여러 당사자가 참여하는 단일 생태계입니다. 애플리케이션을 범용 가상 머신 블록체인 기반으로 구축하는 경우, 이해관계자의 애플리케이션에 대한 자주권 행사가 매우 제한적이며, 이는 결국 기반 블록체인의 거버넌스가 대체하게 됩니다. 애플리케이션에 버그가 있더라도 취할 수 있는 조치가 거의 없습니다.

애플리케이션별 전용 블록체인은 이러한 단점을 해결할 수 있게 설계되었습니다.

## 애플리케이션별 전용 블록체인의 장점

### 유연성

애플리케이션별 블록체인은 개발자에게 최고의 유연성을 제공합니다.

- 일반적으로, 코스모스 블록체인의 상태 기계는 [ABCI](https://docs.tendermint.com/v0.34/spec/abci/)라 부르는 인터페이스를 통해 합의 엔진과 연결됩니다.

- 개발자는 여러 프레임워크 중에서 선택하여 상태 기계를 구축할 수 있습니다. 오늘날 가장 널리 사용되는 것은 Cosmos SDK이지만 다른 것들도 존재합니다(예: [Lotion](https://github.com/nomic-io/lotion), [Weave](https://github.com/iov-one/weave), ...). 대부분의 경우 사용하고자 하는 프로그래밍 언어에 따라 선택합니다(Cosmos SDK 및 Weve는 Golang, Lotion은 Javascript, ...).
- 또한, 개발자는 ABCI를 통해 애플리케이션별 전용 블록체인의 합의 엔진을 교체할 수 있습니다. 현재 프로덕션에서 사용 가능한 수준은 Tendermint 뿐이지만, 앞으로는 다른 합의 엔진도 등장할 것으로 예상됩니다.
- 프레임워크 및 합의 엔진에 만족하더라도, 초기 상태가 요구사항에 완전히 부합하는 것은 아닌 경우 개발자는 여전히 이를 자유롭게 수정할 수 있습니다.
- 개발자는 트레이드 오프 관계에 있는 스펙트럼 전체(예: 검증자 수 vs 트랜잭션 처리량, 비동기 네트워크에서의 안전성 vs 가용성 등) 및 설계상의 선택(DB 또는 IAVL 트리 저장소, UTXO 또는 계정 모형)을 자유롭게 탐색할 수 있습니다.
- 개발자는 자동 실행 코드를 구현할 수 있습니다. Cosmos SDK에서는 각 블록의 시작과 끝 부분에서 자동으로 실행되는 로직을 설정할 수 있습니다. 또한 가상 머신 블록체인에서는 기반 환경이 허용하는 것만 사용 가능한 제약과 달리 애플리케이션에서 사용할 암호화 라이브러리를 자유롭게 선택할 수 있습니다.

위 목록은 애플리케이션별 전용 블록체인이 개발자에게 제공하는 유연성이 어느 정도인지를 보여 주는 몇 가지 예시입니다. Cosmos와 Cosmos SDK의 목표는 일반적이고 조합 가능한 도구를 제공하여, 스택의 각 부분을 포크하고 수정하며 호환성을 잃는 일 없이 개선할 수 있도록 하는 것입니다. 커뮤니티의 성장에 따라 각 핵심 구성 요소에 대한 더 많은 대안이 등장하여 개발자는 더 많은 선택권을 갖게 될 것입니다.

### 성능

스마트 컨트랙트로 구축한 분산 애플리케이션은 근본적으로 기반 환경의 성능 제한을 받습니다. 분산 애플리케이션의 성능 최적화를 위해서는 애플리케이션별 전용 블록체인으로 구축해야 합니다. 다음은 애플리케이션별 전용 블록체인이 성능과 관련하여 제공하는 몇 가지 이점입니다.

- 애플리케이션별 전용 블록체인은 Tendermint BFT 같은 새로운 합의 엔진을 사용하여 운영할 수 있습니다. 작업증명(오늘날 대부분의 가상 머신 블록체인에서 사용)과 비교하여 처리량이 크게 향상됩니다.
- 애플리케이션별 전용 블록체인은 단일 애플리케이션만 운영하므로 계산 능력과 저장 공간에서 다른 애플리케이션과 경쟁하지 않습니다. 이는 오늘날 대부분의 샤딩 없는 가상 머신 블록체인에서 스마트 컨트랙트 간에 계산 능력과 저장 공간을 두고 경쟁하는 것과 차이 나는 부분입니다.
- 가상 머신 블록체인인 효율적인 알고리즘과 결합한 애플리케이션별 샤딩을 제공하더라도 여전히 성능은 가상 머신 자체에 의해 제한됩니다. 처리량의 실제 병목 구간은 상태 기계인데 가상 머신이 트랜잭션을 해석해야 하는 경우 이를 처리하기 위한 계산 복잡도를 유의미한 차이로 증가시킵니다.

### 보안

보안은 정량화하기 어렵고 플랫폼마다 크게 다릅니다. 애플리케이션별 전용 블록체인이 보안 측면에서 얻을 수 있는 몇 가지 중요한 이점은 다음과 같습니다:

- 애플리케이션별 전용 블록체인을 구축하면, 미성숙한 경우가 많은 스마트 컨트랙트용 언어 대신 검증된 Golang 같은 프로그래밍 언어를 사용하여 개발할 수 있습니다.
- 가상 머신이 제공하는 암호화 기능만 사용해야 하는 제약 없이 개발할 수 있습니다. 자기 자신만의 암호화 기능을 사용하거나, 충분히 검증된 암호 라이브러리를 사용할 수 있습니다.
- 가상 머신의 잠재적인 버그나 보안 취약점을 걱정할 필요가 없으므로 애플리케이션의 보안 안전성을 더 쉽게 판단할 수 있습니다.

### 자주권

애플리케이션별 전용 블록체인의 주요 이점 중 하나는 자주권입니다. 분산 애플리케이션은 하나의 생태계에 사용자, 개발자, 타사 서비스 등과 같은 많은 당사자들이 함께 참여합니다. 많은 분산 애플리케이션이 공존하는 가상 머신 블록체인 기반으로 구축하였을 때, 애플리케이션 커뮤니티는 기반 블록체인의 커뮤니티와 다르며, 거버넌스 과정에서 후자가 전자를 대체하게 됩니다. 버그가 있거나 새로운 기능이 필요해도 애플리케이션의 이해관계자들은 코드를 업그레이드할 수 있는 여지가 거의 없습니다. 블록체인 커뮤니티가 행동하기를 거부하면 아무 것도 할 수 없기 때문입니다.

여기서 근본적인 문제는 애플리케이션의 거버넌스와 네트워크의 거버넌스가 같은 방향으로 정렬되어 있지 않다는 것입니다. 이 문제는 애플리케이션별 전용 블록체인을 통해 해결됩니다. 애플리케이션별 전용 블록체인은 단일 애플리케이션 운영에 특화되어 있기 때문에, 애플리케이션 이해관계자들이 체인 전체에 대한 완전한 통제권을 갖습니다. 버그를 발견했을 때 커뮤니티가 손 쓰지 못하고 기다릴 필요가 없으며, 앞으로 체인을 어떻게 발전시켜야할 지에 대해 결정할 완전한 자유를 갖게 됩니다.

## 다음 {hide}

SDK 애플리케이션의 [고급 아키텍처](./sdk-app-architecture.md)에 대해 자세히 알아보십시오. {hide}
